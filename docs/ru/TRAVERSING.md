# Перемещение по DOM-дереву

## add

Добавляет новые элементы к текущей коллекции.

Метод работает аналогично [jQuery.add](https://api.jquery.com/ad/).

### Параметры

| Параметры | Тип                                                                                 | Возвращаемое значение |
|-----------|-------------------------------------------------------------------------------------|-----------------------|
| selector  | [Селектор](https://github.com/digikid/dom-element/blob/main/README-ru.md#selectors) | DomElement            |

### Использование

```js
// Получить коллекцию из `.element-1` и `.element-2`
$('.element-1')
  .add('.element-2');
```

## children

Возвращает коллекцию прямых потомков для каждого выбранного элемента.

Если вызывается с параметром, выполняет фильтрацию полученной коллекции по переданному CSS селектору.

Метод работает аналогично [jQuery.children](https://api.jquery.com/children/).

| Параметры | Тип    | Возвращаемое значение |
|-----------|--------|-----------------------|
| -         | -      | DomElement            |
| selector  | string | DomElement            |

### Использование

```js
// Получить всех потомков `.parent`
$('.parent')
  .children();

// Получить всех потомков `.parent` с классом `is-active`
$('.parent')
  .children('.is-active');
```

## closest

Возвращает коллекцию из первых элементов, совпадающих с переданным селектором при движении вверх по DOM дереву.

Метод работает аналогично [jQuery.closest](https://api.jquery.com/closest/).

| Параметры | Тип    | Возвращаемое значение |
|-----------|--------|-----------------------|
| selector  | string | DomElement            |

### Использование

```js
// Получить все `.parent`, содержащие `.children`
$('.childen')
  .closest('.parent');
```

## eq

Возвращает элемент, имеющий заданный индекс в массиве выбранных элементов.

Метод работает аналогично [jQuery.eq](https://api.jquery.com/eq/).

| Параметры | Тип    | Возвращаемое значение |
|-----------|--------|-----------------------|
| index     | number | DomElement            |

:warning: **Обратите внимание**  
Если элемент не найден, метод возвращает пустую коллекцию.

### Использование

```js
// Получить первый `.element` среди выбранных
$('.element')
  .eq(0);
```

## even

Возвращает коллекцию элементов с чётным порядковым номером.

| Параметры | Тип | Возвращаемое значение |
|-----------|-----|-----------------------|
| -         | -   | DomElement            |

:warning: **Обратите внимание**  
Метод [jQuery.even](https://api.jquery.com/even/) возвращает коллекцию элементов в зависимости от их индекса в
коллекции, что приводит к неочевидному поведению. В отличие от jQuery, данный метод учитывает расположение элемента
относительно своих соседей и отсчет нумерации начинается с 1.

### Использование

```js
// Получить все чётные `.element`
$('.element')
  .even();
```

## filter

Фильтрует выбранные элементы с использованием переданного селектора либо функции.

Метод работает аналогично [jQuery.filter](https://api.jquery.com/filter/).

| Параметры | Тип      | Возвращаемое значение |
|-----------|----------|-----------------------|
| selector  | string   | DomElement            |
| callback  | Function | DomElement            |

### Использование

```js
// Фильтрация всех `.element` с помощью селектора `.is-active`, вернет `.element.is-active`
$('.element')
  .filter('.is-active');

// Фильтрация `.element` с помощью функции, возвращает то же самое
$('.element')
  .filter(function (el, i) {
    // в качестве контекста (this) устанавливается сам элемент
    // el - элемент, в данном случае равен this
    // i - текущий индекс элемента

    return this.classList.contains('is-active');
  });

// Фильтрация `.element` с помощью стрелочной функции, возвращает то же самое
$('.element')
  .filter((el, i) => el.classList.contains('is-active'));
```

## find

Возвращает коллекцию потомков выбранных элементов, соответствующих переданному селектору.

Метод работает аналогично [jQuery.find](https://api.jquery.com/find/).

| Параметры | Тип      | Возвращаемое значение |
|-----------|----------|-----------------------|
| selector  | string   | DomElement            |

### Использование

```js
// Получить все `.child`, являющиеся потомками `.parent`
$('.parent')
  .find('.child');
```

## first

Возвращает коллекцию из первых элементов относительно их родителей.

Метод работает аналогично [jQuery.first](https://api.jquery.com/first/).

| Параметры | Тип | Возвращаемое значение |
|-----------|-----|-----------------------|
| -         | -   | DomElement            |

:warning: **Обратите внимание**  
Метод [jQuery.first](https://api.jquery.com/first/) возвращает коллекцию из первого элемента относительно коллекции, что
приводит к неочевидному поведению. В отличие от jQuery, данный метод учитывает расположение элемента относительно своего
родителя.

### Использование

```js
// Получить первые `.element` относительно их родителей
$('.element')
  .first();
```

## has

Возвращает коллекцию элементов, которые имеют потомков, соответствующих переданному селектору.

Метод работает аналогично [jQuery.has](https://api.jquery.com/has/).

| Параметры | Тип    | Возвращаемое значение |
|-----------|--------|-----------------------|
| selector  | string | DomElement            |

### Использование

```js
// Получить все `.parent`, содержащие `.children`
$('.parent')
  .has('.children');
```

## last

Возвращает коллекцию из последних элементов относительно их родителей.

Метод работает аналогично [jQuery.last](https://api.jquery.com/last/).

| Параметры | Тип | Возвращаемое значение |
|-----------|-----|-----------------------|
| -         | -   | DomElement            |

:warning: **Обратите внимание**  
Метод [jQuery.last](https://api.jquery.com/last/) возвращает коллекцию из последнего элемента относительно всей
коллекции, что приводит к
неочевидному поведению. В отличие от jQuery, данный метод учитывает расположение элемента
относительно своего родителя.

### Использование

```js
// Получить последние `.element` относительно их родителей
$('.element')
  .last();
```

## next

Возвращает коллекцию элементов, идущих непосредственно после каждого выбранного элемента.

Метод работает аналогично [jQuery.next](https://api.jquery.com/next/).

| Параметры | Тип | Возвращаемое значение |
|-----------|-----|-----------------------|
| -         | -   | DomElement            |

### Использование

```js
// Получить элементы, идущие сразу после `.element`
$('.element')
  .next();
```

## not

Фильтрует коллекцию элементов с использованием переданного селектора либо функции, исключая из коллекции соответствующие
элементы.

Работает противоположно методу [filter](https://github.com/digikid/dom-element/blob/main/docs/ru/TRAVERSING.md#filter).

Метод работает аналогично [jQuery.not](https://api.jquery.com.not/).

| Параметры | Тип      | Возвращаемое значение |
|-----------|----------|-----------------------|
| selector  | string   | DomElement            |
| callback  | Function | DomElement            |

### Использование

```js
// Фильтрация с помощью селектора, вернет все `.element` без класса `is-active`
$('.element')
  .not('.is-active');

// Фильтрация с помощью функции, возвращает то же самое
$('.element')
  .not(function (el, i) {
    // в качестве контекста (this) устанавливается сам элемент
    // el - элемент, в данном случае равен this
    // i - текущий индекс элемента

    return this.classList.contains('is-active');
  });

// Фильтрация с помощью стрелочной функции, возвращает то же самое
$('.element')
  .not((el, i) => el.classList.contains('is-active'));
```

## odd

Возвращает коллекцию элементов с нечётным порядковым номером.

| Параметры | Тип | Возвращаемое значение |
|-----------|-----|-----------------------|
| -         | -   | DomElement            |

:warning: **Обратите внимание**  
Метод [jQuery.odd](https://api.jquery.com/odd/) возвращает коллекцию элементов в зависимости от их индекса в
коллекции, что приводит к неочевидному поведению. В отличие от jQuery, данный метод учитывает расположение элемента
относительно своих соседей и отсчет нумерации начинается с 1.

### Использование

```js
// Получить нечётные `.element`
$('.element')
  .odd();
```

## parent

Возвращает коллекцию родителей для каждого из выбранных элементов.

Если передан строковый параметр, фильтрует полученную коллекцию по переданному селектору.

Метод работает аналогично [jQuery.parent](https://api.jquery.com/parent/).

| Параметры | Тип    | Возвращаемое значение |
|-----------|--------|-----------------------|
| -         | -      | DomElement            |
| selector  | string | DomElement            |

### Использование

```js
// Получить родителей `.element`
$('.element')
  .parent();

// Получить родителей `.element` с классом `wrapper`
$('.element')
  .parent('.wrapper');
```

## prev

Возвращает коллекцию элементов, идущих непосредственно перед каждым элементом коллекции.

Метод работает аналогично [jQuery.prev](https://api.jquery.com/prev/).

| Параметры | Тип | Возвращаемое значение |
|-----------|-----|-----------------------|
| -         | -   | DomElement            |

### Использование

```js
// Получить элементы, идущие перед `.element`
$('.element')
  .prev();
```

## siblings

Возвращает коллекцию соседей для каждого элемента коллекции.

Если вызывается с параметром, выполняет фильтрацию полученной коллекции по переданному CSS селектору.

Метод работает аналогично [jQuery.siblings](https://api.jquery.com/siblings/).

| Параметры | Тип    | Возвращаемое значение |
|-----------|--------|-----------------------|
| -         | -      | DomElement            |
| selector  | string | DomElement            |

### Использование

```js
// Получить соседние элементы
$('.element')
  .siblings();

// Получить соседние элементы с классом `is-active`
$('.element')
  .siblings('.is-active');
```
